<% include ../partial-pages/master.ejs %>
<main>
    <input id="kullaniciKodu" style="display:none;" value="<%=session.kullanici.kullaniciKodu%>">
    <div class="row">
        <div class="col s12">
            <div class="card-panel">
                 <div class="row">
                     <div class="">
                          <div class="col m11" style="padding:0">
                              <div class="row">
                                  <div class="input-field ">
                                      <select id="anaKategoriListesi" class="browser-default">
                                        <option value="" disabled selected>Ana Kategori Seç</option>
                                        <%for(var i = 0; i < urunKategorileri.length; i++){%>
                                          <option data="<%=urunKategorileri[i]._id%>" value="<%=urunKategorileri[i].anaKategori%>"><%=urunKategorileri[i].anaKategori%></option>
                                        <%}%>
                                      </select>
                                  </div>
                              </div>
                          </div>
                          <div class="col m1">
                              <div class="col m6 no-padding">
                                  <div class="" style="">
                                      <div class="input-field">
                                          <a id="btnAnaKategoriSil"  class="btn btn-floating red tooltipped "  data-position="top" data-delay="50" data-tooltip="Secili ogeyi sil"><i class="mdi-action-delete"></i></a>
                                      </div>
                                  </div>

                              </div>
                              <div class="col m6">
                                  <div class="" style="">
                                      <div class="input-field">
                                          <a id="" href="#modal_anakategoriekle" class="btn btn-floating green tooltipped modal-trigger"  data-position="top" data-delay="50" data-tooltip="Ana kategori ekle"><i class="mdi-image-exposure-plus-1"></i></a>
                                      </div>
                                  </div>
                                  <!--modal-->
                                  <div id="modal_anakategoriekle" class="modal bottom-sheet">
                                    <div class="modal-content">
                                        <h5 class="left-align">Ana Kategori Ekle</h5>
                                        <div class="row">
                                          <div class="col m12">
                                              <div class="input-field col m10">
                                                <input id="inpAnaKategori" type="text" class="validate">
                                                <label for="">Ana Kategori Adı</label>
                                              </div>
                                              <div class="input-field col m2">
                                                  <a id="btnAnaKategoriEkle" class="waves-effect waves-light btn" style="width:100%">Ekle</a>
                                              </div>
                                          </div>
                                      </div>

                                    </div>
                                    <div class="modal-footer">
                                      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Kapat</a>
                                    </div>
                                  </div>
                              </div>
                          </div>
                          <br>
                          <div class="row">
                              <div class="col m11" style="padding:0">
                                <div class="input-field">
                                  <select id="altKategoriListesi" class="browser-default">
                                      <option value="" disabled selected>Alt kategori seç</option>
                                  </select>
                                </div>
                              </div>
                              <div class="col m1" style="">
                                  <div class="col m6 no-padding">
                                      <div class="input-field">
                                          <button id="btnAltKategoriSil" class="btn btn-floating red tooltipped"  data-position="top" data-delay="50" data-tooltip="Secili ogeyi sil"><i class="mdi-action-delete"></i></button>
                                      </div>
                                  </div>
                                  <div class="col m6">
                                      <div class="input-field">
                                          <a id="" href="#modal_altkategoriekle" class="btn btn-floating green tooltipped modal-trigger"  data-position="top" data-delay="50" data-tooltip="Alt kategori ekle"><i class="mdi-image-exposure-plus-1"></i></a>
                                      </div>
                                  </div>
                                  <div id="modal_altkategoriekle" class="modal bottom-sheet">
                                    <div class="modal-content">
                                        <h5 class="left-align">Alt Kategori Ekle</h5>
                                        <div class="row">
                                          <div class="col m12">
                                              <div class="input-field col m10">
                                                <input id="inpAltKategori" value="" id="" type="text" class="validate">
                                                <label for="">Alt Kategori Adı</label>
                                              </div>
                                              <div class="input-field col m2">
                                                  <a id="btnAltKategoriEkle" class="waves-effect waves-light btn" style="width:100%">Ekle</a>
                                              </div>
                                          </div>
                                      </div>

                                    </div>
                                    <div class="modal-footer">
                                      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Kapat</a>
                                    </div>
                                  </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col m6 no-padding">
                                  <div class="card-panel">
                                      <div class="">
                                          <table class="">
                                                <tbody>
                                                    <tr>
                                                        <td class="center-align">
                                                            <div class="" style="padding:0">
                                                                <div class="" style="padding:0">
                                                                    <div class="card-image">
                                                                        <img id="imgUstResim" width="100%" height="130px;" class="materialboxed" src="/images/default.png">
                                                                    </div>
                                                                    <div class="card-action ">
                                                                        <a href="Javascript:void(0)" class="ustResimSil" style="color:red">Sil</a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>

                                                </tbody>
                                            </table>
                                        </div>
                                  </div>
                              </div>
                              <div class="col m6 ">
                                  <div class="card-panel">
                                      <div class="">
                                          <table class="">
                                                <tbody id="tabloGaleri">
                                                    <tr>
                                                        <td class="center-align">
                                                          <div class="" style="padding:0">
                                                              <div class="card-image">
                                                                  <img id="resim0" class="responsive-img materialboxed" width="130px" min-height="130px" max-height="130px" src="/images/default.png" style="min-height:130px;max-height:130px; width:130px;">
                                                              </div>
                                                              <div class="card-action ">
                                                                  <a id="sil0" href="Javascript:void(0)" class="resimSil" style="color:red">Sil</a>
                                                              </div>
                                                          </div>
                                                        </td>
                                                        <td class="center-align">
                                                          <div class="" style="padding:0">
                                                              <div class="card-image">
                                                                  <img id="resim1" class="responsive-img materialboxed" width="130px" min-height="130px" max-height="130px" src="/images/default.png" style="min-height:130px;max-height:130px; width:130px;">
                                                              </div>
                                                              <div class="card-action ">
                                                                  <a id="sil1" href="Javascript:void(0)" class="resimSil" style="color:red">Sil</a>
                                                              </div>
                                                          </div>
                                                        </td>
                                                        <td class="center-align">
                                                          <div class="" style="padding:0">
                                                              <div class="card-image">
                                                                  <img id="resim2" class="responsive-img materialboxed" width="130px" min-height="130px" max-height="130px" src="/images/default.png" style="min-height:130px;max-height:130px; width:130px;">
                                                              </div>
                                                              <div class="card-action ">
                                                                  <a id="sil2" href="Javascript:void(0)" class="resimSil" style="color:red">Sil</a>
                                                              </div>
                                                          </div>
                                                        </td>
                                                        <td class="center-align">
                                                          <div class="" style="padding:0">
                                                              <div class="card-image">
                                                                  <img id="resim3" class="responsive-img materialboxed" width="130px" min-height="130px" max-height="130px" src="/images/default.png" style="min-height:130px;max-height:130px; width:130px;">
                                                              </div>
                                                              <div class="card-action ">
                                                                  <a id="sil3" href="Javascript:void(0)" class="resimSil" style="color:red">Sil</a>
                                                              </div>
                                                          </div>
                                                        </td>
                                                    </tr>

                                                </tbody>
                                            </table>
                                        </div>
                                  </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col m6 no-padding">
                                  <form id="formUstResim" action="/yukle/medyayukle" enctype="multipart/form-data" method="post">
                                    <div class="col s11">
                                        <div class="file-field input-field">
                                            <input placeholder="ürün ust resim sec" class="file-path validate ustResim" type="text"/>
                                            <input id="inpUstResim" type="file" name="medyaListesi"/>
                                        </div>
                                    </div>
                                    <div class="col s1">
                                        <div class="input-field">
                                            <button type="submit" id="btnUstResimYukle" class="btn btn-floating blue tooltipped"  data-position="top" data-delay="50" data-tooltip="Secili ogeyi yukle"><i class="mdi-file-cloud-upload"></i></button>
                                        </div>
                                    </div>
                                  </form>
                              </div>
                              <div class="col m6">
                                  <form id="formMedya" action="/yukle/medyayukle" enctype="multipart/form-data" method="post">
                                    <div class="col s11">
                                        <div class="file-field input-field">
                                            <input placeholder="ürün resimleri secin" class="file-path validate resim"  type="text"/>
                                            <input id="inpMedya" type="file" name="medyaListesi" multiple/>
                                        </div>
                                    </div>
                                    <div class="col s1">
                                        <div class="input-field">
                                            <button type="submit" id="btnUrunResimYukle" class="btn btn-floating blue tooltipped"  data-position="top" data-delay="50" data-tooltip="Secili ogeyi yukle"><i class="mdi-file-cloud-upload"></i></button>
                                        </div>
                                    </div>
                                  </form>
                              </div>
                          </div>
                          <div class="row">
                              <div class="input-field col s12">
                                  <textarea id="txtUrunAciklama" class="materialize-textarea" placeholder="Açıklama"></textarea>
                              </div>
                          </div>
                     </div>

                  </div>
                  <div class="row">

                      <div class="row">
                          <div class="center-align">
                              <a id="btnUrunKaydet" class="waves-effect waves-light btn">Ekle</a>
                              <a id="btnGuncelle" style="display:none;" class="waves-effect waves-light btn">Güncelle</a>
                          </div>
                      </div>
                  </div>


            </div>
        </div>
    </div>
    <div class="row">
        <div class="col s12">
            <div class="card-panel">
                <div class="row">
                    <table class="bordered urunlerTable">
                        <thead>
                          <tr>
                              <th data-field="id" style="width:50px;">#</th>
                              <th data-field="name">Ana Kategori</th>
                              <th data-field="item_name">Alt Kategori</th>
                              <th data-field="item_name">Üst Resim</th>
                              <th data-field="item_name">Açıklama</th>
                              <th data-field="item_name" style="width:150px;">Foto Galeri</th>
                              <th data-field="operation" style="width:180px;">İşlemler</th>
                          </tr>
                        </thead>

                        <tbody>
                           <%for(var i=0;i<urunler.length;i++){%>
                               <tr id="<%=urunler[i]._id%>">
                                <td><%=i+1%></td>
                                <td><%=urunler[i].anaKategori%></td>
                                <td><%=urunler[i].altKategori%></td>
                                <td>
                                    <img class="responsive-img materialboxed" width="50px" height="50px" src="<%=urunler[i].ustResim%>" style="height:50px; width:50px;">
                                </td>
                                <td><%=urunler[i].aciklama%></td>
                                <td>
                                    <div class="" style="padding:0">
                                       <%for(var j=0;j<urunler[i].galeri.length;j++){%>
                                           <div class="col s3" style="padding:0">
                                            <img class="responsive-img materialboxed" width="50px" height="50px" src="<%=urunler[i].galeri[j].resimLinki%>" style="height:50px; width:50px;">
                                        </div>
                                       <%}%>
                                    </div>
                                </td>
                                <td id="<%=urunler[i]._id%>">
                                    <button class="btn btn-floating red tooltipped sil"  data-position="top" data-delay="50" data-tooltip="Sil"><i class="mdi-action-delete"></i></button>
                                    <button class="btn btn-floating green tooltipped guncelle"  data-position="top" data-delay="50" data-tooltip="Değiştir"><i class="mdi-av-replay"></i></button>
                                </td>
                            </tr>
                           <%}%>
                        </tbody>
                    </table>
              </div>

            </div>
        </div>
    </div>
    <div class="row" style="display:none">
        <div class="">

              <div class="row">
                  <div class="input-field col m7">

                  </div>
                  <div class="input-field col m5">

                  </div>
              </div>
         </div>
    </div>
</main>
<script src="../js/lib-js/urunler-js.js"></script>
<% include ../js/lib-js/masterPageScripts.js %>
